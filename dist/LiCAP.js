var LiCAP=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){"use strict";var r;n.d(e,"b",function(){return r}),n.d(e,"a",function(){return u}),function(t){t.setAttributes=function(t,e){for(let n in e)t.setAttribute(n,e[n])},t.setStyle=function(t,e){for(let n in e)t.style.setProperty(n,e[n])}}(r||(r={}));class o{constructor(){this.funcs=[]}call(...t){this.funcs.forEach(e=>{e(...t)})}push(t){this.funcs.push(t)}}class u{constructor(t){t.forEach(t=>{this[t]=new o})}}},function(t,e,n){"use strict";n.r(e);var r=n(0),o=function(t,e,n,r){return new(n||(n=Promise))(function(o,u){function i(t){try{c(r.next(t))}catch(t){u(t)}}function s(t){try{c(r.throw(t))}catch(t){u(t)}}function c(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(i,s)}c((r=r.apply(t,e||[])).next())})};class u{constructor(t){this.device=t,this.callbacks=new r.a(["data"]),this.device.onmidimessage(this.onMessage.bind(this))}on(t,e){t in this.callbacks&&this.callbacks[t].push(e)}static isSupported(){return navigator.requestMIDIAccess}static enumerate(){return o(this,void 0,void 0,function*(){let t=[];if(u.isSupported()){let e=yield navigator.requestMIDIAccess();for(let n of e.inputs.values())n.name.match(/LiCAP Device/)&&t.push(new u(n))}return t})}onMessage(t){this.callbacks.data.call(t.data)}}u.isSupported()?console.log("Your browser supports LiCAP"):console.log("Your browser does not support LiCAP")}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vc3JjL3V0aWxzLnRzIiwid2VicGFjazovL1tuYW1lXS8uL3NyYy9MaUNBUC50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsInV0aWxzIiwiX193ZWJwYWNrX2V4cG9ydHNfXyIsIkNhbGxiYWNrcyIsInNldEF0dHJpYnV0ZXMiLCJlbCIsImF0dHIiLCJrIiwic2V0QXR0cmlidXRlIiwic2V0U3R5bGUiLCJzdHlsZSIsInNldFByb3BlcnR5IiwiQXJyYXlGdW5jdGlvbiIsIltvYmplY3QgT2JqZWN0XSIsInRoaXMiLCJmdW5jcyIsImFyZ3MiLCJmb3JFYWNoIiwiZnVuYyIsImNiayIsInB1c2giLCJldmVudFR5cGUiLCJlbGVtZW50IiwiTGlDQVBEZXZpY2UiLCJkZXZpY2UiLCJjYWxsYmFja3MiLCJfdXRpbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyIsIm9ubWlkaW1lc3NhZ2UiLCJvbk1lc3NhZ2UiLCJlbmFtZSIsIm5hdmlnYXRvciIsInJlcXVlc3RNSURJQWNjZXNzIiwicmV0IiwiaXNTdXBwb3J0ZWQiLCJhY2Nlc3MiLCJpbnB1dCIsImlucHV0cyIsInZhbHVlcyIsIm1hdGNoIiwiZSIsImRh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Q1osS0FBS1UsT0FBT0csY0FBY2IsS0FBS2MsVUFBVW5DLEtBQUtxQixPQUdsREQsR0FBR2dCLEVBQWVWLEdBQ1hVLEtBQVNmLEtBQUtXLFdBQ2JYLEtBQUtXLFVBQVVJLEdBQU9ULEtBQUtELEdBUW5DTixxQkFDSSxPQUFRaUIsVUFBa0JDLGtCQU85QmxCLG1CLHdDQUNJLElBQUltQixFQUFvQixHQUV4QixHQUFHVCxFQUFZVSxjQUFlLENBQzFCLElBQUlDLFFBQWVKLFVBQVVDLG9CQUU3QixJQUFJLElBQUlJLEtBQVNELEVBQU9FLE9BQU9DLFNBQ3hCRixFQUFNM0QsS0FBSzhELE1BQU0saUJBQ2hCTixFQUFJWixLQUFLLElBQUlHLEVBQVlZLElBSXJDLE9BQU9ILElBR0huQixVQUFVMEIsR0FDZHpCLEtBQUtXLFVBQWdCLEtBQUVyRCxLQUFLbUUsRUFBRUMsT0FLbkNqQixFQUFZVSxjQUNYUSxRQUFRQyxJQUFJLCtCQUVaRCxRQUFRQyxJQUFJIiwiZmlsZSI6IkxpQ0FQLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDEpO1xuIiwiZXhwb3J0IG5hbWVzcGFjZSB1dGlscyB7XHJcbiAgICBleHBvcnQgZnVuY3Rpb24gc2V0QXR0cmlidXRlcyhlbDogRWxlbWVudCwgYXR0cjp7W2tleTogc3RyaW5nXTogc3RyaW5nfSl7XHJcbiAgICAgICAgZm9yKGxldCBrIGluIGF0dHIpe1xyXG4gICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoaywgYXR0cltrXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHNldFN0eWxlKGVsOiBIVE1MRWxlbWVudCwgc3R5bGU6e1trZXk6IHN0cmluZ106IHN0cmluZ30pe1xyXG4gICAgICAgIGZvcihsZXQgayBpbiBzdHlsZSl7XHJcbiAgICAgICAgICAgIGVsLnN0eWxlLnNldFByb3BlcnR5KGssIHN0eWxlW2tdKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIEFycmF5RnVuY3Rpb24ge1xyXG4gICAgcHJpdmF0ZSBmdW5jczogQXJyYXk8RnVuY3Rpb24+ID0gW107XHJcbiAgICBjYWxsKC4uLmFyZ3M6IGFueVtdKSB7XHJcbiAgICAgICAgdGhpcy5mdW5jcy5mb3JFYWNoKChmdW5jKSA9PiB7XHJcbiAgICAgICAgICAgIGZ1bmMoLi4uYXJncyk7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBwdXNoKGNiazogKC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5mdW5jcy5wdXNoKGNiayk7XHJcbiAgICB9XHJcbn07XHJcblxyXG5leHBvcnQgY2xhc3MgQ2FsbGJhY2tzIHtcclxuICAgIFtrZXk6IHN0cmluZ106IEFycmF5RnVuY3Rpb247XHJcbiAgICBjb25zdHJ1Y3RvcihldmVudFR5cGU6IEFycmF5PHN0cmluZz4pIHtcclxuICAgICAgICBldmVudFR5cGUuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgdGhpc1tlbGVtZW50XSA9IG5ldyBBcnJheUZ1bmN0aW9uKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIiwiXHJcblxyXG5pbXBvcnQge0NhbGxiYWNrc30gZnJvbSAnLi91dGlscyc7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIExpQ0FQIHtcclxuICAgIC8qKlxyXG4gICAgICogb25cclxuICAgICAqIEV2ZW50IHJlZ2lzdGVyYXRpb24oc3VwcG9ydCBtdWx0aXBsZSBldmVudCByZWdpc3RlcmF0aW9uKVxyXG4gICAgICogQHBhcmFtIGVuYW1lIG5hbWUgb2YgdGhlIGV2ZW50XHJcbiAgICAgKiBAcGFyYW0gY2JrIGNhbGxiYWNrXHJcbiAgICAgKi9cclxuICAgIG9uKGVuYW1lOiBzdHJpbmcsIGNiazogKC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkKTogdm9pZDtcclxufVxyXG5cclxuY2xhc3MgTGlDQVBEZXZpY2UgaW1wbGVtZW50cyBMaUNBUCB7XHJcbiAgICBwcml2YXRlIGRldmljZTogV2ViTWlkaS5NSURJSW5wdXQ7XHJcbiAgICBwcml2YXRlIGNhbGxiYWNrczogQ2FsbGJhY2tzO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogY3RvclxyXG4gICAgICogQHBhcmFtIGRldmljZSB2YWxpZCBNSURJSW5wdXRcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcihkZXZpY2U6IFdlYk1pZGkuTUlESUlucHV0KSB7XHJcbiAgICAgICAgdGhpcy5kZXZpY2UgPSBkZXZpY2U7XHJcbiAgICAgICAgdGhpcy5jYWxsYmFja3MgPSBuZXcgQ2FsbGJhY2tzKFtcImRhdGFcIl0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuZGV2aWNlLm9ubWlkaW1lc3NhZ2UodGhpcy5vbk1lc3NhZ2UuYmluZCh0aGlzKSk7XHJcbiAgICB9XHJcblxyXG4gICAgb24oZW5hbWU6IHN0cmluZywgY2JrOiAoLi4uYXJnczogYW55W10pID0+IHZvaWQpOiB2b2lkIHtcclxuICAgICAgICBpZihlbmFtZSBpbiB0aGlzLmNhbGxiYWNrcykge1xyXG4gICAgICAgICAgICB0aGlzLmNhbGxiYWNrc1tlbmFtZV0ucHVzaChjYmspO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGlzU3VwcG9ydGVkXHJcbiAgICAgKiBDaGVjayBpZiBMaUNBUCBpcyBzdXBwb3J0ZWQgYnkgY29tcHV0ZXIgb3Igbm90XHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBpc1N1cHBvcnRlZCgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gKG5hdmlnYXRvciBhcyBhbnkpLnJlcXVlc3RNSURJQWNjZXNzIGFzIGJvb2xlYW47XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBlbnVtZXJhdGVcclxuICAgICAqIEVudW1lcmF0ZSBhdmFpbGFibGUgTGlDQVAgZGV2aWNlc1xyXG4gICAgICovXHJcbiAgICBzdGF0aWMgYXN5bmMgZW51bWVyYXRlKCk6IFByb21pc2U8QXJyYXk8TGlDQVA+PiB7XHJcbiAgICAgICAgbGV0IHJldDogQXJyYXk8TGlDQVA+ID0gW107XHJcblxyXG4gICAgICAgIGlmKExpQ0FQRGV2aWNlLmlzU3VwcG9ydGVkKCkpIHtcclxuICAgICAgICAgICAgbGV0IGFjY2VzcyA9IGF3YWl0IG5hdmlnYXRvci5yZXF1ZXN0TUlESUFjY2VzcygpO1xyXG5cclxuICAgICAgICAgICAgZm9yKGxldCBpbnB1dCBvZiBhY2Nlc3MuaW5wdXRzLnZhbHVlcygpKSB7XHJcbiAgICAgICAgICAgICAgICBpZihpbnB1dC5uYW1lLm1hdGNoKC9MaUNBUCBEZXZpY2UvKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldC5wdXNoKG5ldyBMaUNBUERldmljZShpbnB1dCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBvbk1lc3NhZ2UoZTogV2ViTWlkaS5NSURJTWVzc2FnZUV2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5jYWxsYmFja3NbXCJkYXRhXCJdLmNhbGwoZS5kYXRhKTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbmlmKExpQ0FQRGV2aWNlLmlzU3VwcG9ydGVkKCkpIHtcclxuICAgIGNvbnNvbGUubG9nKFwiWW91ciBicm93c2VyIHN1cHBvcnRzIExpQ0FQXCIpO1xyXG59IGVsc2Uge1xyXG4gICAgY29uc29sZS5sb2coXCJZb3VyIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBMaUNBUFwiKTtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9